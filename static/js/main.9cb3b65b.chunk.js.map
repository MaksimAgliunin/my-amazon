{"version":3,"sources":["StateProvider.js","firebase.js","Header.js","Product.js","Home.js","reducer.js","Subtotal.js","CheckoutProduct.js","Checkout.js","Login.js","axios.js","Payment.js","Order.js","Orders.js","App.js","index.js"],"names":["StateContext","createContext","StateProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","db","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","Header","basket","user","className","to","src","alt","type","onClick","signOut","email","length","Product","id","title","price","rating","image","dispatch","Array","fill","map","_","i","item","Home","getBasketTotal","reduce","amount","state","action","index","findIndex","el","newBasket","splice","console","warn","Subtotal","history","useHistory","renderText","decimalScale","displayType","thousandSeparator","prefix","e","push","CheckoutProduct","hideButton","Checkout","Login","useState","setEmail","password","setPassword","onChange","target","preventDefault","signInWithEmailAndPassword","then","catch","err","alert","message","createUserWithEmailAndPassword","instance","axios","create","baseURL","Payment","stripe","useStripe","elements","useElements","succeeded","setSucceeded","processing","setProcessing","error","setError","disabled","setDisabled","clientSecret","setClientSecret","useEffect","a","method","url","response","data","getClientSecret","handleSubmit","event","confirmCardPayment","payment_method","card","getElement","CardElement","paymentIntent","collection","doc","uid","set","created","replace","onSubmit","empty","Order","order","moment","unix","format","Orders","orders","setOrders","orderBy","onSnapshot","snapshot","docs","promise","loadStripe","App","onAuthStateChanged","authUser","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9cb3b65b.chunk.js","sourcesContent":["import React, {createContext, useContext, useReducer} from \"react\";\r\n\r\n//Prepares the data Layer\r\nexport const StateContext = createContext();\r\n\r\n//Wrap the app and provide the Data layer\r\nexport const StateProvider = ({reducer, initialState, children}) => (\r\n    <StateContext.Provider value = {useReducer(reducer, initialState)}>\r\n        {children}\r\n    </StateContext.Provider>\r\n)\r\n\r\n//Pull information from the data Layer\r\nexport const useStateValue = () => useContext(StateContext);","import firebase from \"firebase\";\r\n\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyBgnV4igKtbEEACJA5LqXA6ClnQ5S1pr54\",\r\n    authDomain: \"my-f4f2f.firebaseapp.com\",\r\n    databaseURL: \"https://my-f4f2f.firebaseio.com\",\r\n    projectId: \"my-f4f2f\",\r\n    storageBucket: \"my-f4f2f.appspot.com\",\r\n    messagingSenderId: \"59344382928\",\r\n    appId: \"1:59344382928:web:cb13f6d25537e2702467d5\",\r\n    measurementId: \"G-ZX6M4YJ329\"\r\n};\r\n\r\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\r\n\r\nconst db = firebaseApp.firestore();\r\nconst auth = firebase.auth();\r\n\r\nexport {db, auth};","import React from 'react';\r\nimport './Header.css';\r\nimport {Link} from 'react-router-dom';\r\nimport {useStateValue} from \"./StateProvider\";\r\nimport {auth} from \"./firebase\";\r\n\r\n\r\nconst Header = () => {\r\n\r\n    const [{basket, user}, dispatch] = useStateValue();\r\n\r\n    const handleAuthentication = () => {\r\n        if (user) {\r\n            auth.signOut()\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className='header'>\r\n            <Link to='/'>\r\n                <img className='header__logo'\r\n                     src=\"http://pngimg.com/uploads/amazon/amazon_PNG11.png\"\r\n                     alt='amazon-logo'\r\n                />\r\n            </Link>\r\n\r\n            <div className=\"header__search\">\r\n                <input\r\n                    className='header__searchInput'\r\n                    type=\"text\"\r\n                />\r\n                <i className=\"fa fa-search header__searchIcon\"></i>\r\n            </div>\r\n\r\n            <div className=\"header__nav\">\r\n\r\n                <Link to='/login'>\r\n                    <div onClick={handleAuthentication} className=\"header__option\">\r\n                        <span className=\"header__optionLineOne\">\r\n                            Hello {user ? user.email : 'Guest'}\r\n                        </span>\r\n                        <span className=\"header__optionLineTwo\">\r\n                            {user ? 'Sign Out' : 'Sign In'}\r\n                        </span>\r\n                    </div>\r\n                </Link>\r\n\r\n                <Link to='/orders'>\r\n                    <div className=\"header__option\">\r\n                    <span className=\"header__optionLineOne\">\r\n                        Returns\r\n                    </span>\r\n                        <span className=\"header__optionLineTwo\">\r\n                        & Orders\r\n                    </span>\r\n                    </div>\r\n                </Link>\r\n\r\n                <div className=\"header__option\">\r\n                    <span className=\"header__optionLineOne\">\r\n                        Your\r\n                    </span>\r\n                    <span className=\"header__optionLineTwo\">\r\n                        Prime\r\n                    </span>\r\n                </div>\r\n\r\n                <Link to='/checkout'>\r\n                    <div className=\"header__optionBasket\">\r\n                        <i className=\"fa fa-shopping-cart\"></i>\r\n                        <span className='header__optionLineTwo header__basketCount'>\r\n                            {basket?.length}\r\n                        </span>\r\n                    </div>\r\n                </Link>\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport './Product.css'\r\nimport {useStateValue} from \"./StateProvider\";\r\n\r\nconst Product = ({id, title, price, rating, image}) => {\r\n    const [{basket}, dispatch] = useStateValue();\r\n    const addToBasket = () => {\r\n        //dispatch some basket to data layer\r\n        dispatch({\r\n            type: 'ADD_TO_BASKET',\r\n            item: {\r\n                id: id,\r\n                title: title,\r\n                image: image,\r\n                price: price,\r\n                rating: rating,\r\n            },\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"product\">\r\n            <div className=\"product__info\">\r\n                <div className='product__title'>{title}</div>\r\n                <div className='product__price'>\r\n                    <small>$</small>\r\n                    <strong>{price}</strong>\r\n                </div>\r\n                <div className=\"product__rating\">\r\n                    {Array(rating)\r\n                        .fill()\r\n                        .map((_, i) => (\r\n                            <p key={i}>⭐</p>\r\n                        ))}\r\n                </div>\r\n            </div>\r\n            <img src={image} alt=\"watch\"/>\r\n            <button onClick={addToBasket}>Add to Basket</button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Product;\r\n","import React from 'react';\r\nimport './Home.css'\r\nimport Product from \"./Product\";\r\n\r\nconst Home = () => {\r\n    return (\r\n        <div className='home'>\r\n            <div className=\"home__container\">\r\n                <img\r\n                    className='home__image'\r\n                    src=\"https://images-na.ssl-images-amazon.com/images/G/01/img20/events/Q4/Holiday/deals/trafficdrivers/Q4_2020_HolidayDeals_TrafficDrivers_Desktop_Hero_v1_1500x600._CB417563015_.jpg\" alt='background'/>\r\n                <div className=\"home__row\">\r\n                    <Product\r\n                        id='1'\r\n                        title='Apple Watch Series 6'\r\n                        price={369.99}\r\n                        rating={5}\r\n                        image=\"https://m.media-amazon.com/images/I/71yOGVLGWpL._AC_UY218_.jpg\"\r\n                    />\r\n\r\n                    <Product\r\n                        id='2'\r\n                        title='Apple Watch Series 5'\r\n                        price={329.99}\r\n                        rating={4}\r\n                        image=\"https://m.media-amazon.com/images/I/71HtGqb9vXL._AC_UY218_.jpg\"\r\n                    />\r\n\r\n\r\n                </div>\r\n                <div className=\"home__row\">\r\n                    <Product\r\n                        id='3'\r\n                        title='Samsung Gear S2'\r\n                        price={299.99}\r\n                        rating={5}\r\n                        image=\"https://m.media-amazon.com/images/I/91WHbZPYOUL._AC_UY218_.jpg\"\r\n                    />\r\n                    <Product\r\n                        id='4'\r\n                        title='Samsung Gear S3'\r\n                        price={299.99}\r\n                        rating={3}\r\n                        image=\"https://m.media-amazon.com/images/I/712kkMxQ2hL._AC_UY218_.jpg\"\r\n                    />\r\n                    <Product\r\n                        id='5'\r\n                        title='Samsung Galaxy'\r\n                        price={299.99}\r\n                        rating={5}\r\n                        image=\"https://m.media-amazon.com/images/I/61P033bD5gL._AC_UY218_.jpg\"\r\n                    />\r\n                </div>\r\n                <div className=\"home__row\">\r\n                    <Product\r\n                        id='6'\r\n                        title='Casio Protrek'\r\n                        price={499.99}\r\n                        rating={5}\r\n                        image=\"https://m.media-amazon.com/images/I/81r9t+oQWzL._AC_UL320_.jpg\"\r\n                    />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Home;\r\n","export const initialState = {\r\n    basket: [],\r\n};\r\n\r\n//Selector\r\nexport const getBasketTotal = (basket) =>\r\n    basket?.reduce((amount, item) => item.price + amount, 0);\r\n\r\n\r\nconst reducer = (state, action) => {\r\n    switch (action.type) {\r\n        case 'ADD_TO_BASKET':\r\n            return {\r\n                ...state,\r\n                basket: [...state.basket, action.item],\r\n            }\r\n        case 'EMPTY_BASKET':\r\n            return {\r\n                ...state,\r\n                basket: []\r\n            }\r\n\r\n        case 'REMOVE_FROM_BASKET':\r\n            //remove from state only one item\r\n            // another approach is to use uniq id's for each item(UUID library)\r\n            const index = state.basket.findIndex(el =>\r\n                el.id === action.id\r\n            );\r\n            let newBasket = [...state.basket];\r\n            if (index >= 0) {\r\n                newBasket.splice(index, 1);\r\n            } else {\r\n                console.warn(\r\n                    `Can't remove product id: ${action.id} as it's not in basket`\r\n                );\r\n            }\r\n            return {\r\n                ...state,\r\n                basket: newBasket\r\n            }\r\n        case 'SET_USER':\r\n            return {\r\n                ...state,\r\n                user: action.user\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default reducer;","import React from 'react';\r\nimport './Subtotal.css'\r\nimport CurrencyFormat from 'react-currency-format';\r\nimport {useStateValue} from \"./StateProvider\";\r\nimport {getBasketTotal} from \"./reducer\";\r\nimport {useHistory} from 'react-router-dom'\r\n\r\nconst Subtotal = () => {\r\n\r\n    const history = useHistory();\r\n    const [{basket}, dispatch] = useStateValue();\r\n\r\n    return (\r\n        <div className='subtotal'>\r\n            <CurrencyFormat\r\n                renderText={(value) => (\r\n                    <>\r\n                        <p>\r\n                            Subtotal({basket.length} items):\r\n                            <strong> {value}</strong>\r\n                        </p>\r\n                        <small className='subtotal__gift'>\r\n                            <input type=\"checkbox\"/>\r\n                            This order contains a gift\r\n                        </small>\r\n                    </>\r\n                )}\r\n                decimalScale={2}\r\n                value={getBasketTotal(basket)}\r\n                displayType={'text'}\r\n                thousandSeparator={true}\r\n                prefix={'$'}\r\n            />\r\n            <button onClick={e => history.push('/payment')}>\r\n                Proceed to Checkout\r\n            </button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Subtotal;\r\n","import React from 'react';\r\nimport './CheckoutProduct.css'\r\nimport {useStateValue} from \"./StateProvider\";\r\n\r\nconst CheckoutProduct = ({id, image, title, price, rating, hideButton}) => {\r\n\r\n    const [{basket}, dispatch] = useStateValue();\r\n\r\n    const removeFromBasket = () => {\r\n        dispatch({\r\n            type: 'REMOVE_FROM_BASKET',\r\n            id: id,\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className='checkoutProduct'>\r\n            <img className='checkoutProduct__image' src={image} alt=\"\"/>\r\n            <div className=\"checkoutProduct__info\">\r\n                <div className='checkoutProduct__title'>{title}</div>\r\n                <div className='checkoutProduct__price'>\r\n                    <small>$</small>\r\n                    <strong>{price}</strong>\r\n                </div>\r\n                <div className='checkoutProduct__rating'>\r\n                    {Array(rating)\r\n                        .fill()\r\n                        .map((_, i) =>\r\n                            <p key={i}>⭐</p>\r\n                        )\r\n                    }\r\n                </div>\r\n                {!hideButton &&\r\n                <button onClick={removeFromBasket}>Remove from basket</button>\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CheckoutProduct;\r\n","import React from 'react';\r\nimport './Checkout.css'\r\nimport Subtotal from \"./Subtotal\";\r\nimport CheckoutProduct from \"./CheckoutProduct\";\r\nimport {useStateValue} from \"./StateProvider\";\r\n\r\nconst Checkout = () => {\r\n\r\n    const [{basket, user}] = useStateValue();\r\n\r\n    return (\r\n        <div className='checkout'>\r\n            <div className=\"checkout__left\">\r\n                <img\r\n                    className='checkout__ad'\r\n                    src=\"https://images-na.ssl-images-amazon.com/images/G/01/kindle-content-smeghn/2020/1207KBD/KBHP-Showcase_1500x300.jpg\"\r\n                    alt=\"checkout ad\"\r\n                />\r\n                <div>\r\n            </div>\r\n                    <h3>Hello, {user ? user.email : 'Guest'}</h3>\r\n                    <h2 className='checkout__title'>\r\n                        Your shopping Basket\r\n                    </h2>\r\n                    {basket.map((el, i) =>\r\n                        <CheckoutProduct\r\n                            key={i}\r\n                            id={el.id}\r\n                            title={el.title}\r\n                            rating={el.rating}\r\n                            price={el.price}\r\n                            image={el.image}\r\n                        />\r\n                    )}\r\n                </div>\r\n\r\n\r\n            <div className=\"checkout__right\">\r\n                <Subtotal/>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Checkout;\r\n","import React, {useState} from 'react';\r\nimport './Login.css'\r\nimport {Link, useHistory} from 'react-router-dom';\r\nimport {auth} from './firebase'\r\n\r\nconst Login = () => {\r\n    const history = useHistory();\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    const signIn = (e) => {\r\n        e.preventDefault()\r\n        auth\r\n            .signInWithEmailAndPassword(email, password)\r\n            .then(auth => {\r\n                if (auth) {\r\n                    history.push('/')\r\n                }\r\n            })\r\n            .catch(err => alert(err.message))\r\n    };\r\n\r\n    const register = (e) => {\r\n        e.preventDefault()\r\n\r\n        auth\r\n            .createUserWithEmailAndPassword(email, password)\r\n            .then((auth) => {\r\n                if (auth) {\r\n                    history.push('/')\r\n                }\r\n            })\r\n            .catch(err => alert(err.message))\r\n\r\n    };\r\n\r\n    return (\r\n        <div className='login'>\r\n            <Link to='/'>\r\n                <img\r\n                    className='login__logo'\r\n                    src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png\"\r\n                    alt=\"\"\r\n                />\r\n            </Link>\r\n            <div className=\"login__container\">\r\n                <h1>Sign In</h1>\r\n\r\n                <form>\r\n                    <h5>E-mail</h5>\r\n                    <input\r\n                        type=\"email\"\r\n                        onChange={(e) => setEmail(e.target.value)}\r\n                        value={email}\r\n                    />\r\n\r\n                    <h5>Password</h5>\r\n                    <input\r\n                        type=\"password\"\r\n                        onChange={(e) => setPassword(e.target.value)}\r\n                        value={password}\r\n                    />\r\n\r\n                    <button className='login__signInButton'\r\n                            onClick={signIn}\r\n                            type={'submit'}>\r\n                        Sign In\r\n                    </button>\r\n                </form>\r\n                <p>\r\n                    By signing-in you agree to MY-Amazon CLONE Conditions of Use & Sale. Please see our\r\n                    Privacy Notice,our Cookies Notice and our Interest-Based Ads Notice.\r\n                </p>\r\n                <button\r\n                    className='login__registerButton'\r\n                    onClick={register}\r\n                >\r\n                    Create your Amazon account\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;\r\n","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    // baseURL: 'http://localhost:5001/my-f4f2f/us-central1/api' //The Api (cloud function) URL\r\n    baseURL: 'https://us-central1-my-f4f2f.cloudfunctions.net/api'\r\n});\r\n\r\nexport default instance;\r\n\r\n\r\n","import React, {useEffect, useState} from 'react';\r\nimport './Payment.css'\r\nimport {useStateValue} from \"./StateProvider\";\r\nimport CheckoutProduct from \"./CheckoutProduct\";\r\nimport {Link, useHistory} from \"react-router-dom\";\r\nimport {CardElement, useElements, useStripe} from \"@stripe/react-stripe-js\";\r\nimport {getBasketTotal} from \"./reducer\";\r\nimport CurrencyFormat from \"react-currency-format\";\r\nimport axios from './axios'\r\nimport {db} from \"./firebase\";\r\n\r\n\r\nconst Payment = () => {\r\n    const [{basket, user}, dispatch] = useStateValue()\r\n    const history = useHistory();\r\n\r\n    const stripe = useStripe();\r\n    const elements = useElements();\r\n\r\n    const [succeeded, setSucceeded] = useState(false);\r\n    const [processing, setProcessing] = useState(false)\r\n    const [error, setError] = useState(null);\r\n    const [disabled, setDisabled] = useState(true);\r\n    const [clientSecret, setClientSecret] = useState(true);\r\n\r\n    useEffect(() => {\r\n        //generate the special Stripe secret which allows us to charge a customer correctly\r\n        const getClientSecret = async () => {\r\n            const response = await axios({\r\n                method: 'post',\r\n                //Stripe expects the total in a currencies subunits\r\n                url: `/payments/create?total=${getBasketTotal(basket) * 100}`\r\n            });\r\n            setClientSecret(response.data.clientSecret);\r\n        }\r\n        getClientSecret();\r\n    }, [basket])\r\n\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n        setProcessing(true);\r\n\r\n        const payload = await stripe.confirmCardPayment(clientSecret, {\r\n            payment_method: {\r\n                card: elements.getElement(CardElement)\r\n            }\r\n        }).then(({paymentIntent}) => {\r\n            //paymentIntent = payment confirmation\r\n\r\n            db\r\n                .collection('users')\r\n                .doc(user?.uid)\r\n                .collection('orders')\r\n                .doc(paymentIntent.id)\r\n                .set({\r\n                    basket: basket,\r\n                    amount: paymentIntent.amount,\r\n                    created: paymentIntent.created\r\n                })\r\n\r\n            setSucceeded(true)\r\n            setError(null)\r\n            setProcessing(false)\r\n\r\n            dispatch({\r\n                type: 'EMPTY_BASKET'\r\n            })\r\n\r\n            history.replace('/orders')\r\n        })\r\n    };\r\n\r\n    const handleChange = (event) => {\r\n        //Listen for changes in the CardElement\r\n        // and display any errors as the customer types their card details\r\n        setDisabled(event.empty);\r\n        setError(event.error ? event.error.message : '')\r\n    };\r\n\r\n    return (\r\n        <div className='payment'>\r\n            <div className=\"payment__container\">\r\n\r\n                <h1>\r\n                    Checkout (\r\n                    <Link to='/checkout'>{basket?.length} items</Link>\r\n                    )\r\n                </h1>\r\n\r\n                <div className=\"payment__section\">\r\n                    <div className=\"payment__title\">\r\n                        <h3>Delivery Address:</h3>\r\n                    </div>\r\n                    <div className=\"payment__address\">\r\n                        <p>{user?.email}</p>\r\n                        <p>123 React Lane</p>\r\n                        <p>Los Angeles, CA </p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"payment__section\">\r\n                    <div className=\"payment__title\">\r\n                        <h3>Review items and delivery</h3>\r\n                    </div>\r\n                    <div className=\"payment__items\">\r\n                        {basket.map((el, i) => (\r\n                            <CheckoutProduct\r\n                                key={i}\r\n                                id={el.id}\r\n                                title={el.title}\r\n                                rating={el.rating}\r\n                                price={el.price}\r\n                                image={el.image}\r\n                            />\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n                <div className=\"payment__section\">\r\n                    <div className=\"payment__title\">\r\n                        <h3>Payment Method</h3>\r\n                    </div>\r\n                    <div className=\"payment__details\">\r\n\r\n                        <form onSubmit={handleSubmit}>\r\n                            <CardElement onChange={handleChange}/>\r\n\r\n                            <div className=\"payment__priceContainer\">\r\n                                <CurrencyFormat\r\n                                    renderText={(value) => (\r\n                                        <h3>Order Total: {value}</h3>\r\n                                    )}\r\n                                    decimalScale={2}\r\n                                    value={getBasketTotal(basket)}\r\n                                    displayType={'text'}\r\n                                    thousandSeparator={true}\r\n                                    prefix={'$'}\r\n                                />\r\n                                <button\r\n                                    disabled={processing || disabled || succeeded}\r\n                                >\r\n                                    <span>\r\n                                        {processing ? <p>Processing</p> : 'Buy now'}\r\n                                    </span>\r\n                                </button>\r\n                            </div>\r\n                            {error && <div>{error}</div>}\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Payment;\r\n","import React from 'react';\r\nimport './Order.css';\r\nimport moment from 'moment'\r\nimport CheckoutProduct from \"./CheckoutProduct\";\r\nimport CurrencyFormat from \"react-currency-format\";\r\n\r\nconst Order = ({order}) => {\r\n    return (\r\n        <div className='order'>\r\n            <h2>Order</h2>\r\n            <p>{moment.unix(order.data.created)\r\n                .format('MMMM Do YYYY, h:mma')}\r\n            </p>\r\n            <p className=\"order__id\">\r\n                <small>{order.id}</small>\r\n            </p>\r\n            {order.data.basket?.map((item, i) => (\r\n                <CheckoutProduct\r\n                    key={i}\r\n                    id={item.id}\r\n                    title={item.title}\r\n                    rating={item.rating}\r\n                    price={item.price}\r\n                    image={item.image}\r\n                    hideButton={true}\r\n                />\r\n            ))}\r\n\r\n            <CurrencyFormat\r\n                renderText={(value) => (\r\n                   <h3 className=\"order__total\">Order Total: {value}</h3>\r\n                )}\r\n                decimalScale={2}\r\n                value={order.data.amount / 100}\r\n                displayType={'text'}\r\n                thousandSeparator={true}\r\n                prefix={'$'}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Order;\r\n","import React, {useEffect, useState} from 'react';\r\nimport './Orders.css'\r\nimport {db} from \"./firebase\";\r\nimport {useStateValue} from \"./StateProvider\";\r\nimport Order from \"./Order\";\r\n\r\n\r\nconst Orders = () => {\r\n\r\n    const [{basket, user}, dispatch] = useStateValue()\r\n    const [orders, setOrders] = useState([])\r\n\r\n    useEffect(() => {\r\n        if(user){\r\n\r\n        db\r\n            .collection('users')\r\n            .doc(user?.uid)\r\n            .collection('orders')\r\n            .orderBy('created', 'desc')\r\n            .onSnapshot(snapshot => (\r\n                setOrders(snapshot.docs.map(doc => ({\r\n                    id: doc.id,\r\n                    data: doc.data()\r\n                })))\r\n            ))\r\n        } else {\r\n            setOrders([])\r\n        }\r\n    },[user])\r\n\r\n    return (\r\n        <div className='orders'>\r\n            <h1>Your orders</h1>\r\n            <div className=\"orders__order\">\r\n                {orders?.map((order, i) => (\r\n                    <Order order={order} key={i}/>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Orders;\r\n","import React, {useEffect} from 'react'\nimport './App.css'\nimport Header from \"./Header\";\nimport Home from \"./Home\";\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\nimport Checkout from \"./Checkout\";\nimport Login from \"./Login\";\nimport {auth} from './firebase'\nimport {useStateValue} from './StateProvider'\nimport Payment from './Payment'\nimport {loadStripe} from \"@stripe/stripe-js\";\nimport {Elements} from \"@stripe/react-stripe-js\";\nimport Orders from \"./Orders\";\n\nconst promise = loadStripe('pk_test_51Hz44jIuu30IjyLc2pHNtl7J5VheWKZz1rSjJGAgMzJBlq6UeiEUfXq2DCCVItYekIaBAV4an7oJ0plejw9exH1u00GAuFj96b');\n\n\nfunction App() {\n\n    const [{}, dispatch] = useStateValue();\n\n    useEffect(() => {\n        auth.onAuthStateChanged(authUser => {\n            if (authUser) {\n                dispatch({\n                    type: 'SET_USER',\n                    user: authUser\n                })\n            } else {\n                dispatch({\n                    type: 'SET_USER',\n                    user: null\n                })\n            }\n        })\n    }, [])\n\n    return (\n        <Router>\n            <div className=\"app\">\n                <Switch>\n\n                    <Route path='/orders'>\n                        <Header/>\n                        <Orders/>\n                    </Route>\n\n                    <Route path='/login'>\n                        <Login/>\n                    </Route>\n\n                    <Route path='/checkout'>\n                        <Header/>\n                        <Checkout/>\n                    </Route>\n\n                    <Route path='/payment'>\n                        <Header/>\n                        <Elements stripe={promise}>\n                            <Payment/>\n                        </Elements>\n                    </Route>\n\n                    <Route path='/'>\n                        <Header/>\n                        <Home/>\n                    </Route>\n                </Switch>\n            </div>\n        </Router>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from \"./App\";\nimport {StateProvider} from \"./StateProvider\";\nimport reducer, {initialState} from \"./reducer\";\n\n\nReactDOM.render(\n    <React.StrictMode>\n        <StateProvider initialState={initialState} reducer={reducer}>\n            <App/>\n        </StateProvider>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}